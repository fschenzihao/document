import{_ as o,r as p,o as i,c as l,a as n,d as s,b as t,e}from"./app-CUvyzFzm.js";const c={},r=e(`<h1 id="package-json-指南" tabindex="-1"><a class="header-anchor" href="#package-json-指南"><span>package.json 指南</span></a></h1><table><thead><tr><th style="text-align:center;"><strong>基本要素</strong></th><th style="text-align:center;"><strong>脚本</strong></th><th style="text-align:center;"><strong>文件</strong>配置</th><th style="text-align:center;"><strong>第三方配置</strong></th><th style="text-align:center;"><strong>依赖</strong>配置</th><th style="text-align:center;"><strong>系统</strong></th></tr></thead><tbody><tr><td style="text-align:center;"><a href="#name">name</a></td><td style="text-align:center;"><a href="#scripts">scripts</a></td><td style="text-align:center;"><a href="#files">files</a></td><td style="text-align:center;"><a href="#types-typings">types</a></td><td style="text-align:center;"><a href="#dependencies">dependencies</a></td><td style="text-align:center;"><a href="#engines">engines</a></td></tr><tr><td style="text-align:center;"><a href="#version">version</a></td><td style="text-align:center;"><a href="#config">config</a></td><td style="text-align:center;"><a href="#main">main</a></td><td style="text-align:center;"><a href="#types-typings">typings</a></td><td style="text-align:center;"><a href="#devdependencies">devDependencies</a></td><td style="text-align:center;"><a href="#os">os</a></td></tr><tr><td style="text-align:center;"><a href="#author">author</a></td><td style="text-align:center;"></td><td style="text-align:center;"><a href="#module">module</a></td><td style="text-align:center;"><a href="#unpkg">unpkg</a></td><td style="text-align:center;"><a href="#peerdependencies">peerDependencies</a></td><td style="text-align:center;"><a href="#cpu">cpu</a></td></tr><tr><td style="text-align:center;"><a href="#description">description</a></td><td style="text-align:center;"></td><td style="text-align:center;"><a href="#exports">exports</a></td><td style="text-align:center;"><a href="#jsdelivr">jsdelivr</a></td><td style="text-align:center;"><a href="#peerdependenciesmeta">peerDependenciesMeta</a></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><a href="#keywords">keywords</a></td><td style="text-align:center;"></td><td style="text-align:center;"><a href="#workspaces">workspaces</a></td><td style="text-align:center;"><a href="#browserslist">browserslist</a></td><td style="text-align:center;"><a href="#optionaldependencies">optionalDependencies</a></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><a href="#license">license</a></td><td style="text-align:center;"></td><td style="text-align:center;"><a href="#bin">bin</a></td><td style="text-align:center;"><a href="#sideeffects">sideEffects</a></td><td style="text-align:center;"><a href="#bundleddependencies">bundledDependencies</a></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><a href="#homepage">homepage</a></td><td style="text-align:center;"></td><td style="text-align:center;"><a href="#man">man</a></td><td style="text-align:center;"><a href="#lint-staged">lint-staged</a></td><td style="text-align:center;"><a href="#resolutions-overrides">resolutions</a></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><a href="#bugs">bugs</a></td><td style="text-align:center;"></td><td style="text-align:center;"><a href="#directories">directories</a></td><td style="text-align:center;"></td><td style="text-align:center;"><a href="#resolutions-overrides">overrides</a></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><a href="#repository">repository</a></td><td style="text-align:center;"></td><td style="text-align:center;"><a href="#type">type</a></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><a href="#contributors">contributors</a></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><a href="#private">private</a></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><a href="#publishconfig">publishConfig</a></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td></tr></tbody></table><h2 id="基本要素" tabindex="-1"><a class="header-anchor" href="#基本要素"><span>基本要素</span></a></h2><h3 id="name" tabindex="-1"><a class="header-anchor" href="#name"><span>name</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-package&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>包的名称。它可用于URL，或命令行上的参数，以及作为node_modules中的目录名。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> <span class="token punctuation">[</span>name<span class="token punctuation">]</span>

node_modules/<span class="token punctuation">[</span>name<span class="token punctuation">]</span>

https://registry.npmjs.org/<span class="token punctuation">[</span>name<span class="token punctuation">]</span>/-/<span class="token punctuation">[</span>name<span class="token punctuation">]</span>-<span class="token punctuation">[</span>version<span class="token punctuation">]</span>.tgz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),d={class:"custom-container tip"},u=n("p",{class:"custom-container-title"},"提示",-1),v=e("<li>名称不要与 <code>Node.js</code> 核心模块相同。</li><li>不要把 <code>js</code> 或<code>node</code>放在名称中。</li><li>保持名称简短且具有描述性。它将会出现在 <code>import</code> 、<code>require</code> 调用中。</li>",3),k={href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"},g=e(`<h3 id="version" tabindex="-1"><a class="header-anchor" href="#version"><span>version</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;x.y.z-alpha.1&quot;</span>
｝
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>包的当前版本。</p><p>简单说明：</p><ul><li>x 代表主版本号 Major，通常在涉及重大功能更新，产生了破坏性变更时会更新此版本号</li><li>y 代表次版本号 Minor，在引入了新功能，但未产生破坏性变更，依然向下兼容时会更新此版本号</li><li>z 代表修订号 Patch，在修复了一些问题，也未产生破坏性变更时会更新此版本号</li><li>-alpha.1 代表预发布版本号 pre-release，有以下选择 alpha(内测), beta(灰度测试), rc(生产候选)</li></ul><div class="custom-container tip"><p class="custom-container-title">提示</p><p>版本号大小排序</p><p>16.7.1-alpha.1 &lt; 16.7.1-beta.1 &lt; 16.7.1-rc.1 &lt; 16.7.1</p></div><h3 id="author" tabindex="-1"><a class="header-anchor" href="#author"><span>author</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your Name&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;you@example.com&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://your-website.com&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your Name &lt;you@example.com&gt; (http://your-website.com)&quot;</span>，
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Li jiaxun&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>包作者信息。</p><h3 id="description" tabindex="-1"><a class="header-anchor" href="#description"><span>description</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;My short description of my package&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>包的描述。帮助使用者理解软件包的用途。它也可以在包管理器中搜索包时使用。</p><h3 id="keywords" tabindex="-1"><a class="header-anchor" href="#keywords"><span>keywords</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;typescript&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;component&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;components&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>包的技术关键词（字符串数组）。帮助在软件包管理器中搜索软件包时，更好地检索到。</p><h3 id="license" tabindex="-1"><a class="header-anchor" href="#license"><span>license</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;(MIT or GPL-3.0)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SEE LICENSE IN LICENSE_FILENAME.txt&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;UNLICENSED&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>包的许可证。</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>UNLICENSED： 您不想根据任何条款授予其他人使用私有或未发布软件包的许可证。</p></div><h3 id="homepage" tabindex="-1"><a class="header-anchor" href="#homepage"><span>homepage</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://your-package.org&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>包主页。包的仓库或文档的URL。</p><h3 id="bugs" tabindex="-1"><a class="header-anchor" href="#bugs"><span>bugs</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;bugs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/user/repo/issues&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>问题反馈地址。通常是 github issue 页面的链接，也可以是电子邮件地址。</p><h3 id="repository" tabindex="-1"><a class="header-anchor" href="#repository"><span>repository</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/user/repo.git&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token string">&quot;github:user/repo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gitlab:user/repo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bitbucket:user/repo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gist:a1b2c3d4e5f&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>包的仓库地址。</p><h3 id="contributors" tabindex="-1"><a class="header-anchor" href="#contributors"><span>contributors</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;contributors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Your Friend&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;friend@example.com&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://website.com&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Other Friend&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;other@example.com&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://website.com&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contributors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;Your Friend &lt;friend@example.com&gt; (http://website.com)&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Other Friend &lt;other@example.com&gt; (http://website.com)&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>贡献者信息。</p><h3 id="private" tabindex="-1"><a class="header-anchor" href="#private"><span>private</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果是私有包，若不发布到公共 npm 仓库上，则将 private 设为 true。</p><h3 id="publishconfig" tabindex="-1"><a class="header-anchor" href="#publishconfig"><span>publishConfig</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token property">&quot;publishConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;registry&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://registry.npmjs.org/&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>包发布时使用的配置。</p><p>例如在安装依赖时指定了 registry 为 taobao 镜像源，但发布时希望在公网发布，就可以指定 publishConfig.registry。</p><h2 id="脚本" tabindex="-1"><a class="header-anchor" href="#脚本"><span>脚本</span></a></h2><h3 id="scripts" tabindex="-1"><a class="header-anchor" href="#scripts"><span>scripts</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;prebuild&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo prebuild&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo build&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;postbuild&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo postbuild&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prepublish&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo prepublish&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prepare&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo prepare&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>脚本命令。这些命令可以通过 <code>npm run &lt;script&gt;</code>、<code>yarn run &lt;script&gt;</code> 运行。</p><h4 id="脚本钩子" tabindex="-1"><a class="header-anchor" href="#脚本钩子"><span>脚本钩子</span></a></h4><p>npm 脚本有 <code>pre</code> 和 <code>post</code> 两个钩子。</p><p>例如：<code>build</code> 脚本命令的钩子就是 <code>prebuild</code> 和 <code>postbuild</code>。 执行 <code>npm run build</code>时，会自动按照下面的顺序执行。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> run prebuild <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> run build <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> run postbuild
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>preinstall</code>： 在 <code>npm install</code> 之前自动执行。</li><li><code>postinstall</code>、<code>prepare</code>、：在 <code>npm install</code> 之后自动自动执行。</li></ul>`,47),m={href:"http://ruanyifeng.com/blog/2016/10/npm_scripts.html",target:"_blank",rel:"noopener noreferrer"},h=e(`<h3 id="config" tabindex="-1"><a class="header-anchor" href="#config"><span>config</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8080&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>脚本中使用的配置选项或参数。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// 用户可以改变这个值</span>
npm config <span class="token keyword">set</span> port <span class="token number">9080</span>

<span class="token comment">// 在执行脚本时，可以通过 npm_package_config_port 这个变量访问到 8080</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_package_config_port<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="文件" tabindex="-1"><a class="header-anchor" href="#文件"><span>文件</span></a></h2><h3 id="files" tabindex="-1"><a class="header-anchor" href="#files"><span>files</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;filename.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;directory/&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;glob/*.{js,json}&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>包发布时包含的文件。</p><p>您可以指定单个文件、整个目录或使用通配符来包含满足特定条件的文件。</p><p>默认会包括 package.json，license，README 和main 字段里指定的文件。忽略 node_modules，lockfile 等文件。</p><h3 id="main" tabindex="-1"><a class="header-anchor" href="#main"><span>main</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/filename.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>包的入口文件。默认值为根目录下的 <code>index.js</code>。</p><h3 id="module" tabindex="-1"><a class="header-anchor" href="#module"><span>module</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./index.mjs&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>ES 模块</code>的入口文件</p><h3 id="exports" tabindex="-1"><a class="header-anchor" href="#exports"><span>exports</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-package&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;exports&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./index.js&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// require(&#39;my-package&#39;)</span>
    <span class="token property">&quot;import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./index.mjs&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// import &#39;my-package&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;exports&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;.&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./index.js&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./index.mjs&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./index-node.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;./style&quot;</span><span class="token operator">:</span> &quot;./dist/css/index.css&#39;  <span class="token comment">// import &#39;my-package/style&#39; </span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>exports</code> 字段可以配置不同环境对应的模块入口文件。</p><div class="custom-container warning"><p class="custom-container-title">注意</p><p>当指定了 <code>exports</code> 字段时，会忽略 <code>main</code> 字段配置。只有声明了的模块是可用的，其他的模块会抛出 <code>ModuleNotFound Error</code>。</p></div><h3 id="workspaces" tabindex="-1"><a class="header-anchor" href="#workspaces"><span>workspaces</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;workspaces&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;packages/*&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>项目的工作区配置，用于在本地的根目录下管理多个子项目。可以自动地在 npm install 时将 workspaces 下面的包，软链到根目录的 node_modules 中，不用手动执行 npm link 操作。</p><h3 id="bin" tabindex="-1"><a class="header-anchor" href="#bin"><span>bin</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bin.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;command-name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bin/command-name.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;other-command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bin/other-command&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装的项目时，包含的可执行文件。</p><h3 id="man" tabindex="-1"><a class="header-anchor" href="#man"><span>man</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;man&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./man/doc.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;man&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./man/doc.1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./man/doc.2&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>项目相关的手册页</p><h3 id="directories" tabindex="-1"><a class="header-anchor" href="#directories"><span>directories</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;directories&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token string">&quot;path/to/lib/&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;path/to/bin/&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;man&quot;</span><span class="token operator">:</span> <span class="token string">&quot;path/to/man/&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;doc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;path/to/doc/&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;example&quot;</span><span class="token operator">:</span> <span class="token string">&quot;path/to/example/&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>指定放置二进制文件、手册页、文档、示例等的位置。</p><h3 id="type" tabindex="-1"><a class="header-anchor" href="#type"><span>type</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置为 <code>module</code> 后，该目录里面的 <code>.js</code> 文件，就被解释用 ES6 模块。</p>`,36),b={class:"custom-container tip"},q=e('<p class="custom-container-title">提示</p><ul><li><p><code>.mjs</code> 文件总是以 ES6 模块加载，<code>.cjs</code> 文件总是以 <code>CommonJS</code> 模块加载，<code>.js</code> 文件的加载取决于 <code>type</code> 字段的设置。</p></li><li><p><a href="#exports"><code>exports</code></a> 字段，则可以指明两种格式模块各自的加载入口。</p></li></ul>',2),y={href:"https://www.ruanyifeng.com/blog/2020/08/how-nodejs-use-es6-module.html",target:"_blank",rel:"noopener noreferrer"},x=e(`<h2 id="第三方配置" tabindex="-1"><a class="header-anchor" href="#第三方配置"><span>第三方配置</span></a></h2><h3 id="types-typings" tabindex="-1"><a class="header-anchor" href="#types-typings"><span>types / typings</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./index.d.ts&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>TypeScript</code> 的声明文件的入口。</p><h3 id="unpkg" tabindex="-1"><a class="header-anchor" href="#unpkg"><span>unpkg</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;unpkg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/vue.global.js&quot;</span> <span class="token comment">// unpkg.com/vue</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>CDN</code> 链接入口。</p><h3 id="jsdelivr" tabindex="-1"><a class="header-anchor" href="#jsdelivr"><span>jsdelivr</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;jsdelivr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/vue.global.js&quot;</span> <span class="token comment">// cdn.jsdelivr.net/npm/vue</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>jsdelivr</code> 链接入口。</p><h3 id="browserslist" tabindex="-1"><a class="header-anchor" href="#browserslist"><span>browserslist</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;&gt; 1%&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;last 2 versions&quot;</span>
<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置包的浏览器兼容情况。也可使用 <code>.browserslistrc</code> 单文件配置。</p><h3 id="sideeffects" tabindex="-1"><a class="header-anchor" href="#sideeffects"><span>sideEffects</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;dist/*&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;es/**/style/*&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;lib/**/style/*&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;*.less&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>显示设置某些模块具有副作用，用于 <code>webpack</code> 的 <code>tree-shaking</code> 优化。</p><p>例如 在项目中整体引入 Ant Design 组件库的 css 文件。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;antd/dist/antd.css&#39;</span><span class="token punctuation">;</span> <span class="token comment">// or &#39;antd/dist/antd.less&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果 Ant Design 的 package.json 里不设置 sideEffects，那么 <code>webapck</code> 构建打包时会认为这段代码只是引入了但并没有使用，可以 <code>tree-shaking</code> 剔除掉，最终导致缺少样式。</p><h3 id="lint-staged" tabindex="-1"><a class="header-anchor" href="#lint-staged"><span>lint-staged</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;src/**/*.{js,jsx,ts,tsx}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;eslint --fix&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;git add -A&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>lint-staged 是用于对 git 的暂存区的文件进行操作的工具，比如可以在代码提交前执行 lint 校验，类型检查，图片优化等操作。</p><p>lint-staged 通常配合 husky 这样的 git-hooks 工具一起使用。git-hooks 用来定义一个钩子，这些钩子方法会在 git 工作流程中比如 pre-commit，commit-msg 时触发，可以把 lint-staged 放到这些钩子方法中。</p><h2 id="依赖" tabindex="-1"><a class="header-anchor" href="#依赖"><span>依赖</span></a></h2><h3 id="dependencies" tabindex="-1"><a class="header-anchor" href="#dependencies"><span>dependencies</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;package-1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.1.4&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>开发和生产过程中都需要的依赖项。</p><p>使用 <code>npm install xxx</code>、 <code>npm install xxx --save</code>、<code>yarn add xxx</code> 时，会被自动插入到该字段中。</p><div class="custom-container tip"><p class="custom-container-title">提示</p><ul><li><strong>指定版本</strong>：比如 <code>1.2.2</code>，遵循“大版本.次要版本.小版本”的格式规定，安装时只安装指定版本</li><li><strong>波浪号+指定版本</strong>：比如 <code>~1.2.2</code>，表示 <code>1.2.2</code> &lt;= 安装版本 &lt;= <code>1.3.x</code>，也就是说安装时不改变大版本号和次要版本号。</li><li><strong>插入号+指定版本</strong>：比如ˆ1.2.2，表示 <code>1.2.2</code> &lt;= 安装版本 &lt;= <code>2.x.x</code>，也就是说安装时不改变大版本号。</li><li><strong>latest</strong>：安装最新版本。</li></ul></div><h3 id="devdependencies" tabindex="-1"><a class="header-anchor" href="#devdependencies"><span>devDependencies</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;package-2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.4.2&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>只有在开发软件包时才需要，但不会在生产环境中安装的依赖项。</p><p>使用 <code>npm install xxx -D</code> 、 <code>npm install xxx --save-dev</code>、 <code>yarn add xxx --dev</code> 时，会被自动插入到该字段中。</p><h3 id="peerdependencies" tabindex="-1"><a class="header-anchor" href="#peerdependencies"><span>peerDependencies</span></a></h3><p>对等依赖关系。用于声明项目的一个或多个直接依赖项，这些依赖项并不是由该包自身直接提供，而是期望在其宿主项目中安装相应依赖。</p><p>当用户安装含有 <code>peerDependencies</code> 的包时，如果宿主项目中没有满足版本要求的对应依赖，NPM 7 及以后版本会尝试自动安装它们。</p><p>如果宿主项目已存在相应依赖但版本不符合 <code>peerDependencies</code> 中指定的范围，那么 <code>npm install</code> 安装项目所有依赖时将会报错中断。</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;package-foo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.7.18&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例如上述代码中，宿主项目在使用时必须安装 <code>package-foo</code> 依赖包，并且依赖版本为 <code>^2.7.18</code>。</p><div class="custom-container tip"><p class="custom-container-title">何时使用</p><ul><li><p><strong>插件系统:</strong> 当开发一个插件或库，它设计为扩展另一个库或框架的功能时，常常使用 <code>peerDependencies</code>。例如，一个针对 <code>Vue.js</code> 框架编写的插件在 <code>peerDependencies</code> 中声明对 <code>vue</code> 的依赖，意味着使用该插件的项目必须先安装了 <code>Vue.js</code>。</p></li><li><p><strong>共享依赖避免重复安装:</strong> 如果宿主项目已安装了某个包(例如 <code>lodash</code>)，并且这个包不应该被重复打包，可由宿主项目提供，那么这个库就应作为 <code>peerDependency</code>。</p></li></ul></div><h3 id="peerdependenciesmeta" tabindex="-1"><a class="header-anchor" href="#peerdependenciesmeta"><span>peerDependenciesMeta</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;peerDependenciesMeta&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;package-3&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;optional&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>向对等依赖项添加元数据，将其指定为可选的。（目前只有 <code>optional</code> 标记可用）</p><h3 id="optionaldependencies" tabindex="-1"><a class="header-anchor" href="#optionaldependencies"><span>optionalDependencies</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;optionalDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;package-5&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.6.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可选的依赖项。如果可选依赖项安装失败，安装不受影响仍将继续。</p><p>使用 <code>npm install xxx -O</code> 或者 <code>npm install xxx --save-optional</code> 时，依赖会被自动插入到该字段中。</p><h3 id="bundleddependencies" tabindex="-1"><a class="header-anchor" href="#bundleddependencies"><span>bundledDependencies</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;bundledDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;package-4&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>打包依赖项。打包依赖项是一个包名数组，在发布包时将捆绑在一起发布。</p><div class="custom-container tip"><p class="custom-container-title">提示</p><ul><li>这个打包依赖项中的包名必须是在 <code>dependencies</code>，<code>devDependencies</code> 两个里面声明过的依赖才行。</li><li>当你想用一个不在 npm registry 里的包，或者一个被修改过的第三方包时，打包依赖会比普通依赖更好用。</li></ul></div><h3 id="resolutions-overrides" tabindex="-1"><a class="header-anchor" href="#resolutions-overrides"><span>resolutions / overrides</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;resolutions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;transitive-package-1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.29&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;transitive-package-2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file:./local-forks/transitive-package-2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dependencies-package-1/transitive-package-3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.1.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;overrides&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;foo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.1.0-patch&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>允许重写特定嵌套依赖项的版本。其中 <code>resolutions</code> 字段用于 <code>yarn</code></p><h2 id="系统" tabindex="-1"><a class="header-anchor" href="#系统"><span>系统</span></a></h2><h3 id="engines" tabindex="-1"><a class="header-anchor" href="#engines"><span>engines</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=4.4.7 &lt;7.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;yarn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.14.0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>要求 node 版本大于等于 <code>4.4.7</code> 且小于 <code>7.0.0</code>，同时 <code>yarn</code> 版本号需要大于 <code>0.14.0</code>。</p><h3 id="os" tabindex="-1"><a class="header-anchor" href="#os"><span>os</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;darwin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;linux&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;!win32&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>指定包的操作系统兼容性。</p><h3 id="cpu" tabindex="-1"><a class="header-anchor" href="#cpu"><span>cpu</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;cpu&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;x64&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ia32&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cpu&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;!arm&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;!mips&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>指定包只能在某些 CPU 架构上运行</p>`,64);function j(f,_){const a=p("ExternalLinkIcon");return i(),l("div",null,[r,n("div",d,[u,n("ul",null,[v,n("li",null,[s("名称在 "),n("a",k,[s("registry"),t(a)]),s(" 未被使用。")])])]),g,n("p",null,[n("a",m,[s("更新信息，请参阅："),t(a)])]),h,n("div",b,[q,n("p",null,[s("有关详细信息，请参阅："),n("a",y,[s("Node.js 如何处理 ES6 模块"),t(a)])])]),x])}const D=o(c,[["render",j],["__file","package.json-manual.html.vue"]]),E=JSON.parse('{"path":"/nodejs/package.json-manual.html","title":"package.json 指南","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"基本要素","slug":"基本要素","link":"#基本要素","children":[{"level":3,"title":"name","slug":"name","link":"#name","children":[]},{"level":3,"title":"version","slug":"version","link":"#version","children":[]},{"level":3,"title":"author","slug":"author","link":"#author","children":[]},{"level":3,"title":"description","slug":"description","link":"#description","children":[]},{"level":3,"title":"keywords","slug":"keywords","link":"#keywords","children":[]},{"level":3,"title":"license","slug":"license","link":"#license","children":[]},{"level":3,"title":"homepage","slug":"homepage","link":"#homepage","children":[]},{"level":3,"title":"bugs","slug":"bugs","link":"#bugs","children":[]},{"level":3,"title":"repository","slug":"repository","link":"#repository","children":[]},{"level":3,"title":"contributors","slug":"contributors","link":"#contributors","children":[]},{"level":3,"title":"private","slug":"private","link":"#private","children":[]},{"level":3,"title":"publishConfig","slug":"publishconfig","link":"#publishconfig","children":[]}]},{"level":2,"title":"脚本","slug":"脚本","link":"#脚本","children":[{"level":3,"title":"scripts","slug":"scripts","link":"#scripts","children":[]},{"level":3,"title":"config","slug":"config","link":"#config","children":[]}]},{"level":2,"title":"文件","slug":"文件","link":"#文件","children":[{"level":3,"title":"files","slug":"files","link":"#files","children":[]},{"level":3,"title":"main","slug":"main","link":"#main","children":[]},{"level":3,"title":"module","slug":"module","link":"#module","children":[]},{"level":3,"title":"exports","slug":"exports","link":"#exports","children":[]},{"level":3,"title":"workspaces","slug":"workspaces","link":"#workspaces","children":[]},{"level":3,"title":"bin","slug":"bin","link":"#bin","children":[]},{"level":3,"title":"man","slug":"man","link":"#man","children":[]},{"level":3,"title":"directories","slug":"directories","link":"#directories","children":[]},{"level":3,"title":"type","slug":"type","link":"#type","children":[]}]},{"level":2,"title":"第三方配置","slug":"第三方配置","link":"#第三方配置","children":[{"level":3,"title":"types / typings","slug":"types-typings","link":"#types-typings","children":[]},{"level":3,"title":"unpkg","slug":"unpkg","link":"#unpkg","children":[]},{"level":3,"title":"jsdelivr","slug":"jsdelivr","link":"#jsdelivr","children":[]},{"level":3,"title":"browserslist","slug":"browserslist","link":"#browserslist","children":[]},{"level":3,"title":"sideEffects","slug":"sideeffects","link":"#sideeffects","children":[]},{"level":3,"title":"lint-staged","slug":"lint-staged","link":"#lint-staged","children":[]}]},{"level":2,"title":"依赖","slug":"依赖","link":"#依赖","children":[{"level":3,"title":"dependencies","slug":"dependencies","link":"#dependencies","children":[]},{"level":3,"title":"devDependencies","slug":"devdependencies","link":"#devdependencies","children":[]},{"level":3,"title":"peerDependencies","slug":"peerdependencies","link":"#peerdependencies","children":[]},{"level":3,"title":"peerDependenciesMeta","slug":"peerdependenciesmeta","link":"#peerdependenciesmeta","children":[]},{"level":3,"title":"optionalDependencies","slug":"optionaldependencies","link":"#optionaldependencies","children":[]},{"level":3,"title":"bundledDependencies","slug":"bundleddependencies","link":"#bundleddependencies","children":[]},{"level":3,"title":"resolutions / overrides","slug":"resolutions-overrides","link":"#resolutions-overrides","children":[]}]},{"level":2,"title":"系统","slug":"系统","link":"#系统","children":[{"level":3,"title":"engines","slug":"engines","link":"#engines","children":[]},{"level":3,"title":"os","slug":"os","link":"#os","children":[]},{"level":3,"title":"cpu","slug":"cpu","link":"#cpu","children":[]}]}],"git":{"updatedTime":1709914632000},"filePathRelative":"nodejs/package.json-manual.md"}');export{D as comp,E as data};
