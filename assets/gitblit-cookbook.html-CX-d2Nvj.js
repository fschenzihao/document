import{_ as n,r as i,o as l,c as d,b as t,a as e,d as a,e as s}from"./app-CUvyzFzm.js";const p="/document/images/git/gitblit-cookbook/repo-home.png",r="/document/images/git/gitblit-cookbook/tickets-add.png",h="/document/images/git/gitblit-cookbook/tickets-detail.png",g="/document/images/git/gitblit-cookbook/tickets-list.png",m="/document/images/git/gitblit-cookbook/git-fetch.png",k="/document/images/git/gitblit-cookbook/tickets-check-exist-branch.png",u="/document/images/git/gitblit-cookbook/tickets-checkout-branch.png",b="/document/images/git/gitblit-cookbook/tickets-push-branch.png",_="/document/images/git/gitblit-cookbook/tickets-push-patchset-error.png",v="/document/images/git/gitblit-cookbook/tickets-commits.png",f="/document/images/git/gitblit-cookbook/tickets-edit-open.png",x="/document/images/git/gitblit-cookbook/tickets-review-1.png",R="/document/images/git/gitblit-cookbook/tickets-review-2.png",E="/document/images/git/gitblit-cookbook/tickets-review-3.png",w="/document/images/git/gitblit-cookbook/tickets-merge.png",G="/document/images/git/gitblit-cookbook/tickets-merge-user.png",N="/document/images/git/gitblit-cookbook/tickets-fixed.png",D="/document/images/git/gitblit-cookbook/repo-permissions.png",L="/document/images/git/gitblit-cookbook/repo-tickets.png",T={},I=s('<h1 id="gitblit-cookbook" tabindex="-1"><a class="header-anchor" href="#gitblit-cookbook"><span>Gitblit Cookbook</span></a></h1><h2 id="tickets-工单" tabindex="-1"><a class="header-anchor" href="#tickets-工单"><span>Tickets 工单</span></a></h2><h3 id="流程图" tabindex="-1"><a class="header-anchor" href="#流程图"><span>流程图</span></a></h3>',3),y=s('<h3 id="_1-创建标准工单" tabindex="-1"><a class="header-anchor" href="#_1-创建标准工单"><span>1. 创建标准工单</span></a></h3><h4 id="_1-1-ui-图形用户界面" tabindex="-1"><a class="header-anchor" href="#_1-1-ui-图形用户界面"><span>1.1. UI 图形用户界面</span></a></h4><p>可以使用Web用户界面创建标准工单</p><h5 id="_1-1-1-进入仓库主页点击新建按钮" tabindex="-1"><a class="header-anchor" href="#_1-1-1-进入仓库主页点击新建按钮"><span>1.1.1. 进入仓库主页点击<code>新建</code>按钮</span></a></h5><p><img src="'+p+'" alt="repo-home"></p><h6 id="_1-1-2-填写工单详情" tabindex="-1"><a class="header-anchor" href="#_1-1-2-填写工单详情"><span>1.1.2. 填写工单详情</span></a></h6><p>工单字段说明 ​ <img src="'+r+'" alt="tickets-add"></p><ul><li><p><strong>标题</strong>：简要工作内容</p></li><li><p><strong>主题</strong>：topic 话题、标签或类别，相当于工单的分类，可为空</p></li><li><p><strong>描述</strong>：详细的工作内容</p></li><li><p><strong>类型</strong>：</p><ul><li>enhancement - 增强；提高；增加</li><li>task - 任务、需求</li><li>bug - 错误、漏洞</li><li>question - 问题</li><li>maintenance - 维护</li></ul></li><li><p><strong>severity</strong> - 严重等级</p><ul><li>unrated - 未分级的</li><li>negligible - 不重要的</li><li>minor - 次要的</li><li>serious - 严重的</li><li>critical - 关键的</li><li>catastrophic - 灾难性的</li></ul></li></ul><p>​ <strong>以下选项是拥有推送（RW）权限的用户才会显示</strong></p><ul><li><p><strong>priority</strong> - 优先级</p><ul><li>urgent - 加急</li><li>high - 紧急</li><li>normal - 一般</li><li>low - 次要</li></ul></li><li><p><strong>负责人</strong> - 项目中拥有推送权限的用户，可以不指定</p></li><li><p><strong>合并到</strong> - 选择<code>工单</code>完结后需要合并到的分支，例如 <code>dev</code> / <code>master</code></p></li></ul><h6 id="_1-1-3-工单信息" tabindex="-1"><a class="header-anchor" href="#_1-1-3-工单信息"><span>1.1.3. 工单信息</span></a></h6><p><img src="'+h+'" alt="tickets-detail"></p><h4 id="_1-2-cli-命令行界面" tabindex="-1"><a class="header-anchor" href="#_1-2-cli-命令行界面"><span>1.2. CLI 命令行界面</span></a></h4><h3 id="_2-管理工单" tabindex="-1"><a class="header-anchor" href="#_2-管理工单"><span>2. 管理工单</span></a></h3><p>可在<code>项目</code>-<code>工单</code>页面中<code>查询</code>/<code>编辑</code>/<code>删除</code>历史工单</p><p><img src="'+g+'" alt="tickets-list"></p><h3 id="_3-创建工单补丁集" tabindex="-1"><a class="header-anchor" href="#_3-创建工单补丁集"><span>3. 创建工单补丁集</span></a></h3><h4 id="_3-1-创建工单本地分支" tabindex="-1"><a class="header-anchor" href="#_3-1-创建工单本地分支"><span>3.1. 创建工单本地分支</span></a></h4><p>分支名格式为 <code>ticket/{id}</code>，<code>id</code> 为需要关联的工单ID</p><p>例如：<code>ticket/2</code> 分支关联工单2，以下示例已工单2举例</p><h5 id="_3-1-1-使用-sourcetree-图形用户界面" tabindex="-1"><a class="header-anchor" href="#_3-1-1-使用-sourcetree-图形用户界面"><span>3.1.1. <strong>使用 SourceTree (图形用户界面)</strong></span></a></h5><ol><li>从远程仓库中获取所有分支</li></ol><p><img src="'+m+'" alt="git-fetch"></p><ol start="2"><li>检查是否远程中是否已存在分支 <code>ticket/2</code><ul><li>存在 - 直接选中右键检出</li><li>不存在 - 继续后续的第 3 点操作</li></ul></li></ol><p><img src="'+k+'" alt="tickets-check-exist-branch"></p><ol start="3"><li>新建分支 <code>ticket/2</code></li></ol><p><img src="'+u+'" alt="tickets-checkout-branch"></p><ol start="4"><li><p>提交修改到分支 <code>ticket/2</code></p></li><li><p>新增工单补丁集（将分支 <code>ticket/2</code> 的提交推送到远程仓库）</p></li></ol><p><img src="'+b+'" alt="tickets-push-branch"></p><p><strong>只有以下用户可以推送工单分支：</strong></p><ul><li>工单作者</li><li>初始化工单补丁集作者</li><li>工单制定的负责人</li><li>对仓库具有推送（RW）权限的用户</li></ul><p><strong>否则推送会报错</strong><img src="'+_+`" alt="tickets-push-patchset-error"></p><h5 id="_3-1-2-使用-cli-命令行界面" tabindex="-1"><a class="header-anchor" href="#_3-1-2-使用-cli-命令行界面"><span>3.1.2. 使用 CLI (命令行界面)</span></a></h5><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 获取所有分支最新提交 &amp;&amp;  以 dev 分支为起点创建 ticket/{id} 分支</span>
<span class="token function">git</span> fetch <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> checkout ticket/<span class="token punctuation">{</span>id<span class="token punctuation">}</span> dev

<span class="token comment"># 修改提交...</span>

<span class="token comment"># 推送分支</span>
<span class="token function">git</span> <span class="token function">git</span> push <span class="token parameter variable">-u</span> origin ticket/<span class="token punctuation">{</span>id<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-查询工单提交记录" tabindex="-1"><a class="header-anchor" href="#_3-2-查询工单提交记录"><span>3.2. 查询工单提交记录</span></a></h4><p>在工单页面可以查看所有提交记录</p><p><img src="`+v+'" alt="tickets-commits"></p><h4 id="_3-3-工单完成" tabindex="-1"><a class="header-anchor" href="#_3-3-工单完成"><span>3.3. 工单完成</span></a></h4><p>将工单状态修改为 <code>open</code></p><p><img src="'+f+'" alt="tickets-edit-open"></p><h3 id="_4-审查工单" tabindex="-1"><a class="header-anchor" href="#_4-审查工单"><span>4. 审查工单</span></a></h3><h4 id="_4-1-检查修订内容" tabindex="-1"><a class="header-anchor" href="#_4-1-检查修订内容"><span>4.1. 检查修订内容</span></a></h4><p><img src="'+x+'" alt="tickets-review-1"></p><h4 id="_4-2-修订审核" tabindex="-1"><a class="header-anchor" href="#_4-2-修订审核"><span>4.2. 修订审核</span></a></h4><p>工单通过则选择 <code>同意 +2</code> 选项，否则选择 <code>否决 -2</code> 选项。</p><p><img src="'+R+'" alt="tickets-review-2"></p><div class="custom-container warning"><p class="custom-container-title">注意</p><ul><li>拥有仓库 <code>RW(推送)</code> 权限以上的用户才会出现 <code>同意</code> 和 <code>否决</code> 按钮。</li><li>如果工单补丁集被更新或重写，所有以前的审查分数都将被忽略。</li></ul></div><h4 id="_4-3-评论" tabindex="-1"><a class="header-anchor" href="#_4-3-评论"><span>4.3. 评论</span></a></h4><p><img src="'+E+'" alt="tickets-review-3"></p><h3 id="_5-合并工单补丁" tabindex="-1"><a class="header-anchor" href="#_5-合并工单补丁"><span>5. 合并工单补丁</span></a></h3><h4 id="_5-1-自动合并" tabindex="-1"><a class="header-anchor" href="#_5-1-自动合并"><span>5.1. 自动合并</span></a></h4><p>工单页面中的 <code>合并</code> 按钮，可自动合并工单补丁。但满足以下所有条件时，才会显示，否则需要手动合并</p><ul><li>修订评分至少有一个 <code>+2</code> 且没有 <code> -2</code></li><li>补丁修改不存在冲突</li></ul><p><img src="'+w+'" alt="tickets-merge"></p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>当进行工单自动合并操作后，工单状态变为 <code>MERGED</code>， 后续将无法再次推送提交到对应工单分支，需要新建工单。</p></div><h4 id="_5-2-手动合并" tabindex="-1"><a class="header-anchor" href="#_5-2-手动合并"><span>5.2. 手动合并</span></a></h4><p>工单补丁无法自动合并时，则需要手动合并。</p><p><img src="'+G+`" alt="tickets-merge-user"></p><p>以下示例为，使用命令行合并<code>工单2</code>补丁：</p><ol><li><p>以 <code>dev</code> 分支为起点，新建本地分支 <code>patch-2</code>。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">git</span> checkout <span class="token parameter variable">-b</span> patch-2 dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>拉取工单2分支 <code>ticket/2</code> 的提交修改到当前分支 <code>patch-2</code>。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">git</span> pull origin ticket/2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>若存在冲突，则解决冲突，然后提交修改。</p></li><li><p>切换到 <code>dev</code> 分支，合并 <code>patch-2</code> 分支到 <code>dev</code> 分支，推送修改。</p></li><li><p>删除本地分支 <code>patch-2</code>。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">git</span> branch <span class="token parameter variable">-d</span> patch-2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>将工单2状态修改为 <code>FIXED</code>。</p><p><img src="`+N+'" alt="tickets-fixed"></p></li><li><p>完成。</p></li></ol><div class="custom-container tip"><p class="custom-container-title">提示</p><p>当工单状态不为 <code>MERGED</code> 时，若再次推送提交到工单分支，则工单状态会重置为 <code>OPEN</code>。并且新的提交被归为新的补丁集，可以再次合并。</p></div><h3 id="_6-仓库设置" tabindex="-1"><a class="header-anchor" href="#_6-仓库设置"><span>6. 仓库设置</span></a></h3><h4 id="_6-1-用户权限设置" tabindex="-1"><a class="header-anchor" href="#_6-1-用户权限设置"><span>6.1 用户权限设置</span></a></h4><ul><li>需要审查代码的用户：R(克隆） 权限</li><li>可以审批和推送代码的用户：RW(推送) 权限</li></ul><p><img src="'+D+'" alt="repo-permissions"></p><h4 id="_6-2-工单设置" tabindex="-1"><a class="header-anchor" href="#_6-2-工单设置"><span>6.2. 工单设置</span></a></h4><p><img src="'+L+'" alt="repo-tickets"></p>',67),C={href:"https://www.gitblit.com/tickets_using.html",target:"_blank",rel:"noopener noreferrer"};function K(W,M){const o=i("Mermaid"),c=i("ExternalLinkIcon");return l(),d("div",null,[I,t(o,{id:"mermaid-9",code:"eJxlj8tKAlEYx/c+xVnqolcI8n6vRbuDC7u6iAorWmjgUNlQlgMaCE6pmDKLGqPAywzhy8x3Rt+imfMdaaDZfMP5//hfDo5OLncL+eI52Q76iPNt+OmyN7PbumU2wGjkAmRtbZ0EKchtMA2YDODxOcfJIFdCJdYagTKEyRd8tEDVEAG5ypqjKw6GXLDsYGUSpqxfgTtjMVdt7cGLoieijl2ZREQkU99B/fyPRnh8lFpm3+5K1lxnzRkqYVT4f5T/xyirK5bxBrMxe9KWFQnBGBfjngV6jckK3GrLa3eH9aPigvhfLbTFBz4pQTEbG9r3Y1aRrKlBNrciWYxJ8JgkRWLRG1hTCfQe6wxQT3I9JXRX6U5RSXElXfIqttlgr6JXWvSqsZt6mWQoKLIz0ZuDPituCNXv1YQM9876/a7hSycQ8LnPZxc7h8X8aYFgQU46DcVNiZsWNyNu1r37x3u+Xy8KBsE="}),y,e("blockquote",null,[e("p",null,[a("有关详细信息，请参阅: "),e("a",C,[a("Using Tickets (Gitblit)"),t(c)])])])])}const B=n(T,[["render",K],["__file","gitblit-cookbook.html.vue"]]),P=JSON.parse('{"path":"/git/gitblit-cookbook.html","title":"Gitblit Cookbook","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"Tickets 工单","slug":"tickets-工单","link":"#tickets-工单","children":[{"level":3,"title":"流程图","slug":"流程图","link":"#流程图","children":[]},{"level":3,"title":"1. 创建标准工单","slug":"_1-创建标准工单","link":"#_1-创建标准工单","children":[]},{"level":3,"title":"2. 管理工单","slug":"_2-管理工单","link":"#_2-管理工单","children":[]},{"level":3,"title":"3. 创建工单补丁集","slug":"_3-创建工单补丁集","link":"#_3-创建工单补丁集","children":[]},{"level":3,"title":"4. 审查工单","slug":"_4-审查工单","link":"#_4-审查工单","children":[]},{"level":3,"title":"5. 合并工单补丁","slug":"_5-合并工单补丁","link":"#_5-合并工单补丁","children":[]},{"level":3,"title":"6. 仓库设置","slug":"_6-仓库设置","link":"#_6-仓库设置","children":[]}]}],"git":{"updatedTime":1709904199000},"filePathRelative":"git/gitblit-cookbook.md"}');export{B as comp,P as data};
