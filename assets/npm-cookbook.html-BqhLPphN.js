import{_ as e,r as o,o as p,c as t,a as n,d as s,b as c,e as i}from"./app-CUvyzFzm.js";const l={},r=i(`<h1 id="npm-cookbook" tabindex="-1"><a class="header-anchor" href="#npm-cookbook"><span>npm Cookbook</span></a></h1><h2 id="_1-package-json-变量" tabindex="-1"><a class="header-anchor" href="#_1-package-json-变量"><span>1. package.json 变量</span></a></h2><p><code>package.json</code> 中的字段会被附加 <code>npm_package_</code> 前缀，然后添加到 <code>process.env</code> 环境变量下。</p><p>例如，<code>package.json</code> 如下所示：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token string">&quot;1.2.5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite dev&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行 <code>package.json</code> 中的 <code>script</code> 命令时，会将环境变量 <code>process.env.npm_package_name</code> 设置为 <code>foo</code>， <code>process.env.npm_package_version</code> 设置为 <code>1.2.5</code>，以此类推其他字段。</p><p>你可以在代码中访问这些变量，如下所示：</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_package_name<span class="token punctuation">)</span> <span class="token comment">// foo</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_package_version<span class="token punctuation">)</span> <span class="token comment">// 1.2.5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,8),d={href:"https://docs.npmjs.com/cli/v9/using-npm/scripts#packagejson-vars",target:"_blank",rel:"noopener noreferrer"};function u(k,m){const a=o("ExternalLinkIcon");return p(),t("div",null,[r,n("p",null,[s("有关详细信息，请参阅："),n("a",d,[s("package.json vars (npm Docs)"),c(a)])])])}const g=e(l,[["render",u],["__file","npm-cookbook.html.vue"]]),_=JSON.parse('{"path":"/nodejs/npm-cookbook.html","title":"npm Cookbook","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"1. package.json 变量","slug":"_1-package-json-变量","link":"#_1-package-json-变量","children":[]}],"git":{"updatedTime":1684853340000},"filePathRelative":"nodejs/npm-cookbook.md"}');export{g as comp,_ as data};
